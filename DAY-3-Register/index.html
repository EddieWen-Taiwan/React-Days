<!DOCTYPE html>
<html>
<head>

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<meta name="description" content="React.js library" />
	<meta name="author" content="Eddie Wen | 溫奕書" />
	<meta name="URL" content="http://github.eddiewen.me/React-Days/DAY-3-Register/" />
	<meta name="image" content="https://facebook.github.io/react/img/logo_og.png" />

	<!-- Open Graph -->
	<meta property="og:site_name" content="React Register" />
	<meta property="og:title" content="React Register" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="http://github.eddiewen.me/React-Days/DAY-3-Register/" />
	<meta property="og:image" content="https://facebook.github.io/react/img/logo_og.png" />
	<meta property="og:description" content="React.js library" />

	<title>React Register</title>
	<link rel="Shortcut Icon" type="image/x-icon" href="https://facebook.github.io/react/img/logo_og.png" />

	<!-- google font -->
	<link href="http://fonts.googleapis.com/css?family=Open+Sans:300" rel="stylesheet" type="text/css">

	<!-- React.js -->
	<script type="text/javascript" src="../library/react.min.js"></script>
	<script type="text/javascript" src="../library/react-dom.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.6.15/browser.js"></script>

	<!-- my CSS -->
	<style type="text/css">
	body,input{font-family:'Open Sans';font-weight:300}body{margin:0;padding:30px;color:#202020}.row{width:100%;margin-top:70px}.row>div{width:48%;display:inline-block}.label{font-size:14px;color:#9B9B9B}input{width:80%;border:none;border-bottom:1px solid #DCDCDC;font-size:24px;padding:10px 7px;color:#202020}input:focus{outline:0}.btn{width:50px;height:50px;border-radius:25px;background-color:#FA4081;cursor:pointer;box-shadow:1px 2px 2px 0 rgba(0,0,0,.6);position:absolute;right:80px;bottom:80px}.btn img{width:32px;margin-top:10px;margin-left:8px}
	</style>

</head>
<body>

	<div id="container"></div>

	<script type="text/babel">
		var Btn = React.createClass({
			render: function() {
				return (
					<div className="btn" onClick={this.props.onClick}>
						<img src="done.png" />
					</div>
				);
			}
		});

		var FirstName = React.createClass({
			render: function() {
				return (
					<div className="first name">
						<div className="label">First Name</div>
						<input id="firstName" type="text" placeholder="Your first name" onChange={this.props.onChange} />
					</div>
				);
			}
		})

		var LastName = React.createClass({
			render: function() {
				return (
					<div className="last name">
						<div className="label">Last Name</div>
						<input id="lastName" type="text" placeholder="Your last name" onChange={this.props.onChange} />
					</div>
				);
			}
		})

		var NameRow = React.createClass({
			render: function() {
				return (
					<div className="row">
						<FirstName onChange={this.props.onChange} />
						<LastName onChange={this.props.onChange} />
					</div>
				);
			}
		});

		var EmailRow = React.createClass({
			render: function() {
				return (
					<div className="row">
						<div className="email">
							<div className="label">E-mail</div>
							<input id="email" type="text" placeholder="E-mail address" onChange={this.props.onChange} />
						</div>
					</div>
				);
			}
		});

		// All in this
		var WelcomeMyForm = React.createClass({
			getInitialState: function() {
				return { first: '', last: '', email: '' };
			},
			handelNameChange: function(e) {
				var target = e.target;
				if( target.id == "firstName" )
					this.setState({ first: target.value });
				else
					this.setState({ last: target.value });
			},
			handleEmailChange: function(e) {
				this.setState({ email: e.target.value });
			},
			BtnClick: function() {
				var msg = "TO BACKEND: \nFIRSTNAME: "+this.state.first+"\nLASTNAME: "+this.state.last+"\nEMAIL: "+this.state.email;
				alert(msg);
			},
			render: function() {
				return (
					<div className="myForm">
						<NameRow onChange={this.handelNameChange}/>
						<EmailRow onChange={this.handleEmailChange}/>
						<Btn onClick={this.BtnClick}/>
					</div>
				);
			}
		});

		ReactDOM.render(
			<WelcomeMyForm />, document.getElementById('container')
		);
	</script>

</body>
</html>